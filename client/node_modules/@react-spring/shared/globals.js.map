{"version":3,"file":"globals.js","sourceRoot":"","sources":["../src/globals.ts"],"names":[],"mappings":";;AAiCA,EAAE;AACF,WAAW;AACX,EAAE;AAES,QAAA,GAAG,GAAG,cAAM,OAAA,IAAI,CAAC,GAAG,EAAE,EAAV,CAAU,CAAA;AAEjC,mDAAmD;AACxC,QAAA,UAAU,GAAqC,IAAW,CAAA;AAErE,kEAAkE;AACvD,QAAA,aAAa,GAAG,KAAK,CAAA;AAEhC,qEAAqE;AAC1D,QAAA,iBAAiB,GAAG,UAAC,KAAU,IAAK,OAAA,KAAK,EAAL,CAAK,CAAA;AAEpD,kDAAkD;AACvC,QAAA,mBAAmB,GAAiC,IAAW,CAAA;AAE1E,sDAAsD;AAC3C,QAAA,uBAAuB,GAEvB,IAAW,CAAA;AAEX,QAAA,qBAAqB,GAC9B,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,cAAM,OAAA,CAAC,CAAC,EAAF,CAAE,CAAA;AAE9D,QAAA,oBAAoB,GAC7B,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC,cAAO,CAAC,CAAA;AAsB3D,QAAA,MAAM,GAAG,UAAC,OAAwB;;IAC7C,OAAA,CAAC;;;;;;;;;;;;;;6BA+BA,EA9BC,oBAAG,EACH,gCAAS,EACT,kCAAU,EACV,wCAAa,EACb,0CAAc,EACd,gDAAiB,EACjB,oDAAmB,EACnB,8DAAwB,EACxB,oEAA2B,EAC3B,4DAAuB,EACvB,oDAAmB,EACnB,wDAAqB,EACrB,sDAAoB,KAkBpB;AA/BF,CA+BE,CAAA;AAEJ,0BAA0B;AAC1B,SAAS,YAAY,CAAC,OAAY;IAChC,IAAM,OAAO,GAAQ,EAAE,CAAA;IACvB,KAAK,IAAM,GAAG,IAAI,OAAO,EAAE;QACzB,IAAI,OAAO,CAAC,GAAG,CAAC,KAAK,KAAK,CAAC;YAAE,OAAO,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAA;KACzD;IACD,OAAO,OAAO,CAAA;AAChB,CAAC","sourcesContent":["import { SpringInterpolator, InterpolatorConfig } from './types'\nimport { ElementType } from 'react'\n\ndeclare const window: {\n  requestAnimationFrame: (cb: (time: number) => void) => number\n  cancelAnimationFrame: (id: number) => void\n}\n\n//\n// Required\n//\n\nexport let defaultElement: string | ElementType\n\n/** Provide custom logic for native updates */\nexport let applyAnimatedValues: (node: any, props: any) => boolean | void\n\n/** Provide a custom `interpolate` function */\nexport let createAnimatedInterpolation: SpringInterpolator\n\n/** Provide custom logic for string interpolation */\nexport let createStringInterpolator: (\n  config: InterpolatorConfig<string>\n) => (input: number) => string\n\n/** Provide a custom `FrameLoop` instance */\nexport let frameLoop: {\n  update: () => boolean\n  controllers: Map<number, any>\n  start(controller: any): void\n  stop(controller: any): void\n}\n\n//\n// Optional\n//\n\nexport let now = () => Date.now()\n\n/** Provide custom color names for interpolation */\nexport let colorNames: { [key: string]: number } | null = null as any\n\n/** Make all animations instant and skip the frameloop entirely */\nexport let skipAnimation = false\n\n/** Intercept props before they're passed to an animated component */\nexport let getComponentProps = (props: any) => props\n\n/** Wrap the `style` prop with an animated node */\nexport let createAnimatedStyle: ((style: any) => any) | null = null as any\n\n/** Wrap the `transform` prop with an animated node */\nexport let createAnimatedTransform:\n  | ((transform: any) => any)\n  | null = null as any\n\nexport let requestAnimationFrame: typeof window.requestAnimationFrame =\n  typeof window !== 'undefined' ? window.requestAnimationFrame : () => -1\n\nexport let cancelAnimationFrame: typeof window.cancelAnimationFrame =\n  typeof window !== 'undefined' ? window.cancelAnimationFrame : () => {}\n\n//\n// Configuration\n//\n\nexport interface AnimatedGlobals {\n  now?: typeof now\n  frameLoop?: typeof frameLoop\n  colorNames?: typeof colorNames\n  skipAnimation?: typeof skipAnimation\n  defaultElement?: typeof defaultElement\n  getComponentProps?: typeof getComponentProps\n  applyAnimatedValues?: typeof applyAnimatedValues\n  createStringInterpolator?: typeof createStringInterpolator\n  createAnimatedInterpolation?: typeof createAnimatedInterpolation\n  createAnimatedTransform?: typeof createAnimatedTransform\n  createAnimatedStyle?: typeof createAnimatedStyle\n  requestAnimationFrame?: typeof requestAnimationFrame\n  cancelAnimationFrame?: typeof cancelAnimationFrame\n}\n\nexport const assign = (globals: AnimatedGlobals): AnimatedGlobals =>\n  ({\n    now,\n    frameLoop,\n    colorNames,\n    skipAnimation,\n    defaultElement,\n    getComponentProps,\n    applyAnimatedValues,\n    createStringInterpolator,\n    createAnimatedInterpolation,\n    createAnimatedTransform,\n    createAnimatedStyle,\n    requestAnimationFrame,\n    cancelAnimationFrame,\n  } = Object.assign(\n    {\n      now,\n      frameLoop,\n      colorNames,\n      skipAnimation,\n      defaultElement,\n      getComponentProps,\n      applyAnimatedValues,\n      createStringInterpolator,\n      createAnimatedInterpolation,\n      createAnimatedTransform,\n      createAnimatedStyle,\n      requestAnimationFrame,\n      cancelAnimationFrame,\n    },\n    pluckDefined(globals)\n  ))\n\n// Ignore undefined values\nfunction pluckDefined(globals: any) {\n  const defined: any = {}\n  for (const key in globals) {\n    if (globals[key] !== void 0) defined[key] = globals[key]\n  }\n  return defined\n}\n"]}