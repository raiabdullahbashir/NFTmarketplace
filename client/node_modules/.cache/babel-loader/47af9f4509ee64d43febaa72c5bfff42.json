{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\raiab\\\\Documents\\\\Logics Yard\\\\NFT code daniyal\\\\NFT code\\\\src\\\\components\\\\components\\\\ColumnNewThreeColRedux.js\",\n    _s = $RefreshSig$();\n\nimport React, { memo, useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport * as selectors from '../../store/selectors';\nimport * as actions from '../../store/actions/thunks';\nimport NftCard from './NftCard';\nimport { clearNfts, clearFilter } from '../../store/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ColumnNewThreeColRedux = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const nftItems = useSelector(selectors.nftItems);\n  const [height, setHeight] = useState(0);\n\n  const onImgLoad = _ref => {\n    let {\n      target: img\n    } = _ref;\n    let currentHeight = height;\n\n    if (currentHeight < img.offsetHeight) {\n      setHeight(img.offsetHeight);\n    }\n  };\n\n  useEffect(() => {\n    dispatch(actions.fetchNftsBreakdown());\n  }, [dispatch]); //will run when component unmounted\n\n  useEffect(() => {\n    return () => {\n      dispatch(clearFilter());\n      dispatch(clearNfts());\n    };\n  }, [dispatch]);\n\n  const loadMore = () => {\n    dispatch(actions.fetchNftsBreakdown());\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [nftItems && nftItems.map((nft, index) => /*#__PURE__*/_jsxDEV(NftCard, {\n      nft: nft,\n      onImgLoad: onImgLoad,\n      height: height,\n      className: \"d-item col-lg-4 col-md-6 col-sm-6 col-xs-12 mb-4\"\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }, this)), nftItems.length <= 20 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-lg-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spacer-single\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: loadMore,\n        className: \"btn-main lead m-auto\",\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ColumnNewThreeColRedux, \"NL/NF/+kNKso3HKw64Vj35B4aYI=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = ColumnNewThreeColRedux;\nexport default _c2 = /*#__PURE__*/memo(ColumnNewThreeColRedux);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ColumnNewThreeColRedux\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","memo","useEffect","useState","useSelector","useDispatch","selectors","actions","NftCard","clearNfts","clearFilter","ColumnNewThreeColRedux","dispatch","nftItems","height","setHeight","onImgLoad","target","img","currentHeight","offsetHeight","fetchNftsBreakdown","loadMore","map","nft","index","length"],"sources":["C:/Users/raiab/Documents/Logics Yard/NFT code daniyal/NFT code/src/components/components/ColumnNewThreeColRedux.js"],"sourcesContent":["import React, { memo, useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport * as selectors from '../../store/selectors';\r\nimport * as actions from '../../store/actions/thunks';\r\nimport NftCard from './NftCard';\r\nimport { clearNfts, clearFilter } from '../../store/actions';\r\n\r\nconst ColumnNewThreeColRedux = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const nftItems = useSelector(selectors.nftItems);\r\n\r\n    const [height, setHeight] = useState(0);\r\n\r\n    const onImgLoad = ({target:img}) => {\r\n        let currentHeight = height;\r\n        if(currentHeight < img.offsetHeight) {\r\n            setHeight(img.offsetHeight);\r\n        }\r\n    }\r\n    \r\n    useEffect(() => {\r\n        dispatch(actions.fetchNftsBreakdown());\r\n    }, [dispatch]);\r\n\r\n    //will run when component unmounted\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(clearFilter());\r\n            dispatch(clearNfts());\r\n        }\r\n    },[dispatch]);\r\n    \r\n    const loadMore = () => {\r\n        dispatch(actions.fetchNftsBreakdown());\r\n    }\r\n    \r\n  return (\r\n    <div className='row'>\r\n        {nftItems && nftItems.map( (nft, index) => (\r\n                <NftCard nft={nft} key={index} onImgLoad={onImgLoad} height={height} className=\"d-item col-lg-4 col-md-6 col-sm-6 col-xs-12 mb-4\" />\r\n            ))}\r\n        { nftItems.length <= 20 &&\r\n            <div className='col-lg-12'>\r\n                <div className=\"spacer-single\"></div>\r\n                <span onClick={loadMore} className=\"btn-main lead m-auto\">Load More</span>\r\n            </div>\r\n        }\r\n    </div>              \r\n    );\r\n}\r\n\r\nexport default memo(ColumnNewThreeColRedux);"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,IAAhB,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAO,KAAKC,SAAZ,MAA2B,uBAA3B;AACA,OAAO,KAAKC,OAAZ,MAAyB,4BAAzB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,qBAAvC;;;AAEA,MAAMC,sBAAsB,GAAG,MAAM;EAAA;;EAEjC,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;EAEA,MAAMQ,QAAQ,GAAGT,WAAW,CAACE,SAAS,CAACO,QAAX,CAA5B;EAEA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,CAAC,CAAD,CAApC;;EAEA,MAAMa,SAAS,GAAG,QAAkB;IAAA,IAAjB;MAACC,MAAM,EAACC;IAAR,CAAiB;IAChC,IAAIC,aAAa,GAAGL,MAApB;;IACA,IAAGK,aAAa,GAAGD,GAAG,CAACE,YAAvB,EAAqC;MACjCL,SAAS,CAACG,GAAG,CAACE,YAAL,CAAT;IACH;EACJ,CALD;;EAOAlB,SAAS,CAAC,MAAM;IACZU,QAAQ,CAACL,OAAO,CAACc,kBAAR,EAAD,CAAR;EACH,CAFQ,EAEN,CAACT,QAAD,CAFM,CAAT,CAfiC,CAmBjC;;EACAV,SAAS,CAAC,MAAM;IACZ,OAAO,MAAM;MACTU,QAAQ,CAACF,WAAW,EAAZ,CAAR;MACAE,QAAQ,CAACH,SAAS,EAAV,CAAR;IACH,CAHD;EAIH,CALQ,EAKP,CAACG,QAAD,CALO,CAAT;;EAOA,MAAMU,QAAQ,GAAG,MAAM;IACnBV,QAAQ,CAACL,OAAO,CAACc,kBAAR,EAAD,CAAR;EACH,CAFD;;EAIF,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,WACKR,QAAQ,IAAIA,QAAQ,CAACU,GAAT,CAAc,CAACC,GAAD,EAAMC,KAAN,kBACnB,QAAC,OAAD;MAAS,GAAG,EAAED,GAAd;MAA+B,SAAS,EAAER,SAA1C;MAAqD,MAAM,EAAEF,MAA7D;MAAqE,SAAS,EAAC;IAA/E,GAAwBW,KAAxB;MAAA;MAAA;MAAA;IAAA,QADK,CADjB,EAIMZ,QAAQ,CAACa,MAAT,IAAmB,EAAnB,iBACE;MAAK,SAAS,EAAC,WAAf;MAAA,wBACI;QAAK,SAAS,EAAC;MAAf;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAM,OAAO,EAAEJ,QAAf;QAAyB,SAAS,EAAC,sBAAnC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QALR;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAaD,CA5CD;;GAAMX,sB;UAEeN,W,EAEAD,W;;;KAJfO,sB;AA8CN,kCAAeV,IAAI,CAACU,sBAAD,CAAnB"},"metadata":{},"sourceType":"module"}