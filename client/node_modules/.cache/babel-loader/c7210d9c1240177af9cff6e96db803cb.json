{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\raiab\\\\Documents\\\\Logics Yard\\\\NFT code daniyal\\\\NFT code\\\\client\\\\src\\\\components\\\\components\\\\Opensea\\\\Assets.js\",\n    _s = $RefreshSig$();\n\nimport React, { memo, useEffect, useState } from 'react';\nimport AssetCard from './AssetCard';\nimport { OpenSeaPort, Network } from 'opensea-js';\nimport { web3Provider } from '../../../core/opensea/constants'; //react functional component\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Assets = _ref => {\n  _s();\n\n  let {\n    showLoadMore = true,\n    side = null,\n    owner = null\n  } = _ref;\n  const [height, setHeight] = useState(0);\n  const [page, setPage] = useState(1);\n  const [orderList, setOrderList] = useState();\n  const [currentSide, setCurrentSide] = useState(side);\n  const [currentOwner, setCurrentOwner] = useState(side);\n\n  const onImgLoad = _ref2 => {\n    let {\n      target: img\n    } = _ref2;\n    let currentHeight = height;\n\n    if (currentHeight < img.offsetHeight) {\n      setHeight(img.offsetHeight);\n    }\n  };\n\n  const fetchData = async function () {\n    let resetData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    let currentPage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    let accountAddress = '';\n\n    try {\n      const addressArray = await window.ethereum.request({\n        method: \"eth_accounts\"\n      });\n      accountAddress = addressArray[0];\n    } catch (err) {\n      console.log(err);\n    }\n\n    const seaport = new OpenSeaPort(web3Provider, {\n      networkName: Network.Rinkeby\n    });\n    const query = {};\n\n    if (resetData) {\n      query.offset = 0;\n    }\n\n    if (owner) {\n      query.owner = accountAddress;\n      query.limit = 10;\n      const {\n        assets\n      } = await seaport.api.getAssets(query, currentPage);\n      let nfts = orderList ? !resetData ? [...orderList, ...assets] : assets : assets;\n      setOrderList(nfts);\n    }\n  };\n\n  useEffect(() => {\n    if (owner !== currentOwner) {\n      setCurrentOwner(owner);\n    }\n\n    if (side !== currentSide) {\n      setCurrentSide(side);\n    }\n\n    if (owner !== currentOwner || side !== currentSide) {\n      setTimeout(() => fetchData(true), 1000);\n      setPage(1);\n    } else {\n      setTimeout(() => fetchData(), 1000);\n    }\n  }, [side, owner]);\n\n  const loadMore = () => {\n    setPage(page + 1);\n    fetchData(false, page + 1);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [orderList && orderList.map((nft, index) => /*#__PURE__*/_jsxDEV(AssetCard, {\n      nft: nft,\n      onImgLoad: onImgLoad,\n      height: height\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this)), showLoadMore && orderList && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-lg-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spacer-single\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: loadMore,\n        className: \"btn-main lead m-auto\",\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Assets, \"B4rAiwa0OfpgMaoKA3oMaQId0HA=\");\n\n_c = Assets;\nexport default _c2 = /*#__PURE__*/memo(Assets);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Assets\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","memo","useEffect","useState","AssetCard","OpenSeaPort","Network","web3Provider","Assets","showLoadMore","side","owner","height","setHeight","page","setPage","orderList","setOrderList","currentSide","setCurrentSide","currentOwner","setCurrentOwner","onImgLoad","target","img","currentHeight","offsetHeight","fetchData","resetData","currentPage","accountAddress","addressArray","window","ethereum","request","method","err","console","log","seaport","networkName","Rinkeby","query","offset","limit","assets","api","getAssets","nfts","setTimeout","loadMore","map","nft","index"],"sources":["C:/Users/raiab/Documents/Logics Yard/NFT code daniyal/NFT code/client/src/components/components/Opensea/Assets.js"],"sourcesContent":["import React, { memo, useEffect, useState } from 'react';\nimport AssetCard from './AssetCard';\nimport { OpenSeaPort, Network } from 'opensea-js';\nimport { web3Provider } from '../../../core/opensea/constants';\n\n//react functional component\nconst Assets = ({ showLoadMore = true, side = null, owner = null }) => {\n    const [height, setHeight] = useState(0);\n    const [page, setPage] = useState(1);\n    const [orderList, setOrderList] = useState();\n    const [currentSide, setCurrentSide] = useState(side);\n    const [currentOwner, setCurrentOwner] = useState(side);\n\n\n    const onImgLoad = ({target:img}) => {\n        let currentHeight = height;\n        if(currentHeight < img.offsetHeight) {\n            setHeight(img.offsetHeight);\n        }\n    }\n\n    const fetchData = async (resetData = false, currentPage = 1) => {\n        let accountAddress = '';\n        try{\n            const addressArray = await window.ethereum.request({\n                method: \"eth_accounts\",\n            });\n            accountAddress = addressArray[0];\n        } catch (err) {\n            console.log(err)\n        }\n        const seaport = new OpenSeaPort(web3Provider, {\n            networkName: Network.Rinkeby\n        });\n\n        const query = {};\n        if(resetData) {\n            query.offset = 0;\n        }\n        if(owner) {\n            query.owner = accountAddress;\n            query.limit = 10;\n            const { assets } = await seaport.api.getAssets(query, currentPage)\n            let nfts = orderList ? !resetData ? [...orderList, ...assets] : assets : assets;\n            setOrderList(nfts);\n        }\n    }\n    \n    useEffect(() => {\n        if(owner !== currentOwner) {\n            setCurrentOwner(owner);\n        }\n        if(side !== currentSide) {\n            setCurrentSide(side);\n        } \n        if(owner !== currentOwner || side !== currentSide) {\n            setTimeout(() => fetchData(true), 1000);\n            setPage(1);\n        }\n        else {\n            setTimeout(() => fetchData(), 1000);\n        }\n    }, [side, owner]);\n\n    const loadMore = () => {\n        setPage(page+1);\n        fetchData(false, page+1);\n    }\n\n    return (\n        <div className='row'>\n            {orderList && orderList.map( (nft, index) => (\n                <AssetCard nft={nft} key={index} onImgLoad={onImgLoad} height={height} />\n            ))}\n            { showLoadMore && orderList &&\n                <div className='col-lg-12'>\n                    <div className=\"spacer-single\"></div>\n                    <span onClick={loadMore} className=\"btn-main lead m-auto\">Load More</span>\n                </div>\n            }\n        </div>              \n    );\n};\n\nexport default memo(Assets);"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,IAAhB,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,WAAT,EAAsBC,OAAtB,QAAqC,YAArC;AACA,SAASC,YAAT,QAA6B,iCAA7B,C,CAEA;;;;AACA,MAAMC,MAAM,GAAG,QAAwD;EAAA;;EAAA,IAAvD;IAAEC,YAAY,GAAG,IAAjB;IAAuBC,IAAI,GAAG,IAA9B;IAAoCC,KAAK,GAAG;EAA5C,CAAuD;EACnE,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,CAAD,CAApC;EACA,MAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,CAAD,CAAhC;EACA,MAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,EAA1C;EACA,MAAM,CAACe,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAACO,IAAD,CAA9C;EACA,MAAM,CAACU,YAAD,EAAeC,eAAf,IAAkClB,QAAQ,CAACO,IAAD,CAAhD;;EAGA,MAAMY,SAAS,GAAG,SAAkB;IAAA,IAAjB;MAACC,MAAM,EAACC;IAAR,CAAiB;IAChC,IAAIC,aAAa,GAAGb,MAApB;;IACA,IAAGa,aAAa,GAAGD,GAAG,CAACE,YAAvB,EAAqC;MACjCb,SAAS,CAACW,GAAG,CAACE,YAAL,CAAT;IACH;EACJ,CALD;;EAOA,MAAMC,SAAS,GAAG,kBAA8C;IAAA,IAAvCC,SAAuC,uEAA3B,KAA2B;IAAA,IAApBC,WAAoB,uEAAN,CAAM;IAC5D,IAAIC,cAAc,GAAG,EAArB;;IACA,IAAG;MACC,MAAMC,YAAY,GAAG,MAAMC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB;QAC/CC,MAAM,EAAE;MADuC,CAAxB,CAA3B;MAGAL,cAAc,GAAGC,YAAY,CAAC,CAAD,CAA7B;IACH,CALD,CAKE,OAAOK,GAAP,EAAY;MACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACH;;IACD,MAAMG,OAAO,GAAG,IAAIlC,WAAJ,CAAgBE,YAAhB,EAA8B;MAC1CiC,WAAW,EAAElC,OAAO,CAACmC;IADqB,CAA9B,CAAhB;IAIA,MAAMC,KAAK,GAAG,EAAd;;IACA,IAAGd,SAAH,EAAc;MACVc,KAAK,CAACC,MAAN,GAAe,CAAf;IACH;;IACD,IAAGhC,KAAH,EAAU;MACN+B,KAAK,CAAC/B,KAAN,GAAcmB,cAAd;MACAY,KAAK,CAACE,KAAN,GAAc,EAAd;MACA,MAAM;QAAEC;MAAF,IAAa,MAAMN,OAAO,CAACO,GAAR,CAAYC,SAAZ,CAAsBL,KAAtB,EAA6Bb,WAA7B,CAAzB;MACA,IAAImB,IAAI,GAAGhC,SAAS,GAAG,CAACY,SAAD,GAAa,CAAC,GAAGZ,SAAJ,EAAe,GAAG6B,MAAlB,CAAb,GAAyCA,MAA5C,GAAqDA,MAAzE;MACA5B,YAAY,CAAC+B,IAAD,CAAZ;IACH;EACJ,CAzBD;;EA2BA9C,SAAS,CAAC,MAAM;IACZ,IAAGS,KAAK,KAAKS,YAAb,EAA2B;MACvBC,eAAe,CAACV,KAAD,CAAf;IACH;;IACD,IAAGD,IAAI,KAAKQ,WAAZ,EAAyB;MACrBC,cAAc,CAACT,IAAD,CAAd;IACH;;IACD,IAAGC,KAAK,KAAKS,YAAV,IAA0BV,IAAI,KAAKQ,WAAtC,EAAmD;MAC/C+B,UAAU,CAAC,MAAMtB,SAAS,CAAC,IAAD,CAAhB,EAAwB,IAAxB,CAAV;MACAZ,OAAO,CAAC,CAAD,CAAP;IACH,CAHD,MAIK;MACDkC,UAAU,CAAC,MAAMtB,SAAS,EAAhB,EAAoB,IAApB,CAAV;IACH;EACJ,CAdQ,EAcN,CAACjB,IAAD,EAAOC,KAAP,CAdM,CAAT;;EAgBA,MAAMuC,QAAQ,GAAG,MAAM;IACnBnC,OAAO,CAACD,IAAI,GAAC,CAAN,CAAP;IACAa,SAAS,CAAC,KAAD,EAAQb,IAAI,GAAC,CAAb,CAAT;EACH,CAHD;;EAKA,oBACI;IAAK,SAAS,EAAC,KAAf;IAAA,WACKE,SAAS,IAAIA,SAAS,CAACmC,GAAV,CAAe,CAACC,GAAD,EAAMC,KAAN,kBACzB,QAAC,SAAD;MAAW,GAAG,EAAED,GAAhB;MAAiC,SAAS,EAAE9B,SAA5C;MAAuD,MAAM,EAAEV;IAA/D,GAA0ByC,KAA1B;MAAA;MAAA;MAAA;IAAA,QADU,CADlB,EAIM5C,YAAY,IAAIO,SAAhB,iBACE;MAAK,SAAS,EAAC,WAAf;MAAA,wBACI;QAAK,SAAS,EAAC;MAAf;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAM,OAAO,EAAEkC,QAAf;QAAyB,SAAS,EAAC,sBAAnC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QALR;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAaH,CA5ED;;GAAM1C,M;;KAAAA,M;AA8EN,kCAAeP,IAAI,CAACO,MAAD,CAAnB"},"metadata":{},"sourceType":"module"}